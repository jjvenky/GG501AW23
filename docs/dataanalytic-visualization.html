<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>GG501 - 2&nbsp; Data/Analytic Visualization</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./dataanalytic-critique.html" rel="next">
<link href="./index.html" rel="prev">
<link href="./favicon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data/Analytic Visualization</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">GG501</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">GG501 Spatial Knowledge Mobilization</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dataanalytic-visualization.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data/Analytic Visualization</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dataanalytic-critique.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data/Analytic Critique</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-to-decisions.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Data to Decisions</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./assignments.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Assignments</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#skm-introduction" id="toc-skm-introduction" class="nav-link active" data-scroll-target="#skm-introduction"><span class="toc-section-number">2.1</span>  SKM Introduction</a>
  <ul class="collapse">
  <li><a href="#readings-this-week" id="toc-readings-this-week" class="nav-link" data-scroll-target="#readings-this-week"><span class="toc-section-number">2.1.1</span>  Readings this week</a></li>
  </ul></li>
  <li><a href="#tabular-data" id="toc-tabular-data" class="nav-link" data-scroll-target="#tabular-data"><span class="toc-section-number">2.2</span>  Tabular Data</a>
  <ul class="collapse">
  <li><a href="#readings-this-week-1" id="toc-readings-this-week-1" class="nav-link" data-scroll-target="#readings-this-week-1"><span class="toc-section-number">2.2.1</span>  Readings this week</a></li>
  <li><a href="#case-study" id="toc-case-study" class="nav-link" data-scroll-target="#case-study"><span class="toc-section-number">2.2.2</span>  Case study</a></li>
  </ul></li>
  <li><a href="#time-series-data" id="toc-time-series-data" class="nav-link" data-scroll-target="#time-series-data"><span class="toc-section-number">2.3</span>  Time Series Data</a>
  <ul class="collapse">
  <li><a href="#readings-this-week-2" id="toc-readings-this-week-2" class="nav-link" data-scroll-target="#readings-this-week-2"><span class="toc-section-number">2.3.1</span>  Readings this week</a></li>
  </ul></li>
  <li><a href="#spatial-data" id="toc-spatial-data" class="nav-link" data-scroll-target="#spatial-data"><span class="toc-section-number">2.4</span>  Spatial Data</a>
  <ul class="collapse">
  <li><a href="#readings-this-week-3" id="toc-readings-this-week-3" class="nav-link" data-scroll-target="#readings-this-week-3"><span class="toc-section-number">2.4.1</span>  Readings this week</a></li>
  <li><a href="#case-study-1" id="toc-case-study-1" class="nav-link" data-scroll-target="#case-study-1"><span class="toc-section-number">2.4.2</span>  Case Study</a></li>
  </ul></li>
  <li><a href="#model-data" id="toc-model-data" class="nav-link" data-scroll-target="#model-data"><span class="toc-section-number">2.5</span>  Model Data</a>
  <ul class="collapse">
  <li><a href="#resources-this-week" id="toc-resources-this-week" class="nav-link" data-scroll-target="#resources-this-week"><span class="toc-section-number">2.5.1</span>  Resources this week</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data/Analytic Visualization</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="skm-introduction" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="skm-introduction"><span class="header-section-number">2.1</span> SKM Introduction</h2>
<section id="readings-this-week" class="level3" data-number="2.1.1">
<h3 data-number="2.1.1" class="anchored" data-anchor-id="readings-this-week"><span class="header-section-number">2.1.1</span> Readings this week</h3>
<ul>
<li><a href="https://ubc-dsci.github.io/introduction-to-datascience/viz.html">TCL-4 Effective Visualization</a></li>
<li><a href="https://ggplot2-book.org/introduction.html">HMP-1 Introduction</a></li>
<li><a href="https://ggplot2-book.org/getting-started.html">HNP-2 First Steps</a></li>
</ul>
</section>
</section>
<section id="tabular-data" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="tabular-data"><span class="header-section-number">2.2</span> Tabular Data</h2>
<section id="readings-this-week-1" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="readings-this-week-1"><span class="header-section-number">2.2.1</span> Readings this week</h3>
<p><a href="https://ggplot2-book.org/individual-geoms.html">HNP-3 Individual geoms</a> <a href="https://ggplot2-book.org/collective-geoms.html">HNP-4 Collective geoms</a> <a href="https://ggplot2-book.org/statistical-summaries.html">HNP-5 Statistical summaries</a> <a href="https://rawgit.com/rstudio/cheatsheets/master/data-visualization.pdf">ggplot2 Cheat Sheet</a></p>
</section>
<section id="case-study" class="level3" data-number="2.2.2">
<h3 data-number="2.2.2" class="anchored" data-anchor-id="case-study"><span class="header-section-number">2.2.2</span> Case study</h3>
<p>Surveying farmers about agricultural practices. This project was in consultation with an environmental agriculture association aiming to understand barriers to the adoption of specific farming practices, specifically the use of <a href="https://www.sare.org/resources/cover-crops/">cover crops</a>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/covercrops.jpeg" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Red Clover cover crops on farm field. Image credit: <a href="https://www.country-guide.ca/" class="uri">https://www.country-guide.ca/</a></figcaption><p></p>
</figure>
</div>
<p>The survey asked farmers about their use of cover crops and any barriers they experienced in applying this practice to their farms. We will walk-through a detailed analysis of this farmer survey data, which is primarily tabular data with some spatial and temporal components.</p>
<p>First, let’s look at the raw data.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/covercropsdata.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Snapshot of farmer survey data</figcaption><p></p>
</figure>
</div>
<p>Some things you need to check when inspecting a new dataset, include at least the following:</p>
<ul>
<li><p>are the column names well-formed?</p></li>
<li><p>what columns have NULL values, will this cause an issue, how are NULL values coded, is it consistent?</p></li>
<li><p>do any columns have a mix of data types? (e.g., see column <code>AH</code>)</p></li>
<li><p>are there data that should anonymized?</p></li>
<li><p>are there gaps above or below the data, or ad hoc summaries that need to be removed?</p></li>
<li><p>are there any obviously erroneous values (i.e., not valid outliers but errors, such as a value of <code>491</code> in the <code>age</code> column) that need to be removed?</p></li>
</ul>
<p>As well as some deeper questions:</p>
<ul>
<li><p>do you understand what each column and value means, what each row represents? If there are some you do not understand consider whether the columns you do understand are sufficient to answer the key questions you’re exploring with this dataset?</p></li>
<li><p>are the data stored in the correct data type (especially important if viewing data in Microsoft Excel)?</p></li>
<li><p>are the data complete? (i.e., are all the expected rows there, does the <code>rowcount</code> = the sample size)?</p></li>
</ul>
<p>Secondly, let’s examine the end product we created to explore this data. The graphs here were used in a report summarizing key trends.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/coverscreen.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Screenshot of farmer survey report. View the full report <a href="https://rpubs.com/colinr23/farmers">here</a>.</figcaption><p></p>
</figure>
</div>
</section>
</section>
<section id="time-series-data" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="time-series-data"><span class="header-section-number">2.3</span> Time Series Data</h2>
<section id="readings-this-week-2" class="level3" data-number="2.3.1">
<h3 data-number="2.3.1" class="anchored" data-anchor-id="readings-this-week-2"><span class="header-section-number">2.3.1</span> Readings this week</h3>
<ul>
<li><p><a href="https://www.neonscience.org/resources/learning-hub/tutorials/dc-time-series-plot-ggplot-r">Neon Tutorial - Time Series with ggplot2 in R</a></p></li>
<li><p><a href="https://buildmedia.readthedocs.org/media/pdf/a-little-book-of-r-for-time-series/latest/a-little-book-of-r-for-time-series.pdf">A Little Book of R for Time Series</a></p></li>
<li><p><a href="https://rawgit.com/rstudio/cheatsheets/master/lubridate.pdf">Lubridate Cheat Sheet</a></p></li>
</ul>
</section>
</section>
<section id="spatial-data" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="spatial-data"><span class="header-section-number">2.4</span> Spatial Data</h2>
<section id="readings-this-week-3" class="level3" data-number="2.4.1">
<h3 data-number="2.4.1" class="anchored" data-anchor-id="readings-this-week-3"><span class="header-section-number">2.4.1</span> Readings this week</h3>
<ul>
<li><p><a href="https://geocompr.robinlovelace.net/spatial-class.html">Lovelace-2 Geographic Data in R</a></p></li>
<li><p><a href="https://ggplot2-book.org/maps.html">HNP-6 Maps</a></p></li>
<li><p><a href="https://journal.r-project.org/archive/2018/RJ-2018-009/RJ-2018-009.pdf">Pebezma - 2018</a></p></li>
<li><p><a href="https://r-spatial.github.io/sf/">simple features webpage</a></p></li>
<li><p><a href="https://mhweber.github.io/R-User-Group-Spatial-Workshop-2018/SpatialObjects.html">Spatial Objects in R Tutorial</a></p></li>
<li><p><a href="https://paezha.github.io/spatial-analysis-r/introduction-to-maps.html">Spatial analysis in R Demo</a></p></li>
</ul>
</section>
<section id="case-study-1" class="level3" data-number="2.4.2">
<h3 data-number="2.4.2" class="anchored" data-anchor-id="case-study-1"><span class="header-section-number">2.4.2</span> Case Study</h3>
<p>Here we will walk through a spatial visualization analysis from start to finish and make some key decisions about how we want to visualize the data. The data we are going to start with is from crime statistics in the City of Toronto. <a href="https://colinr23.github.io/GESC151/gis-and-big-data.html">We can find the materials for this walk-through here</a>.</p>
</section>
</section>
<section id="model-data" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="model-data"><span class="header-section-number">2.5</span> Model Data</h2>
<p>Statisical modelling is a core construct in <code>R</code> due to its roots as a statistical programming language. Base <code>R</code> has powerful modelling features such as <code>lm</code> and <code>glm</code> for fitting models to data. As well, there are hundreds (thousands?) of additional packages that implement almost any conceivable statistical model, from time series to spatial point process models to survival models. This week we will review some basic ideas of randomness and modelling and then explore how to visualize and interrogate models using <code>tidyverse</code> friendly packages and tools.</p>
<section id="resources-this-week" class="level3" data-number="2.5.1">
<h3 data-number="2.5.1" class="anchored" data-anchor-id="resources-this-week"><span class="header-section-number">2.5.1</span> Resources this week</h3>
<ul>
<li><p><a href="https://rkabacoff.github.io/datavis/Models.html">Kabakoff - Ch. 8 statistical models</a></p></li>
<li><p><a href="https://www.tidymodels.org/learn/statistics/bootstrap/">bootstrapping and visualizing models</a></p></li>
<li><p><a href="https://cran.r-project.org/web/packages/broom/vignettes/broom_and_dplyr.html">broom and dplyr vignette</a></p></li>
<li><p><a href="https://cran.r-project.org/web/packages/jtools/vignettes/effect_plot.html">jtools package</a></p></li>
<li><p><a href="https://towardsdatascience.com/visualizing-models-101-using-r-c7c937fc5f04">visualizing models 101</a></p></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">GG501 Spatial Knowledge Mobilization</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./dataanalytic-critique.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data/Analytic Critique</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>